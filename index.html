<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ø¬Ø¯Ø§ÙˆÙ„ Ø·Ø§Ù„Ø¨Ø§Øª Ø§Ù„Ø¬Ù…Ø¹ÙŠØ© Ø§Ù„Ø®ÙŠØ±ÙŠØ© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© Ù„ØªØ­ÙÙŠØ¸ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…</title>
  <style>
    /* Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ø§Ù…Ø© */
    body {
      font-family: Arial, sans-serif;
      text-align: right;
      background-color: #f2f3f3; /* Ù„ÙˆÙ† Ø§ÙØªØ±Ø§Ø¶ÙŠ (Ø£Ø²Ø±Ù‚ ØºØ§Ù…Ù‚) */
      color: rgb(14, 11, 84);
      margin: 0;
      padding: 0;
      transition: background-color 0.3s ease, background-image 0.3s ease;
      background-size: cover; /* Ø¬Ø¹Ù„ Ø§Ù„Ø®Ù„ÙÙŠØ© Ù…ØªÙ†Ø§Ø³Ù‚Ø© Ø§Ù„Ø­Ø¬Ù… */
      background-repeat: no-repeat; /* Ù…Ù†Ø¹ ØªÙƒØ±Ø§Ø± Ø§Ù„Ø®Ù„ÙÙŠØ© */
    }
    .container {
      width: 90%;
      max-width: 800px;
      margin: auto;
      padding: 20px;
    }
    /* Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© */
    .header {
      text-align: center;
      padding: 10px;
    }
    .logo {
      width: 150px; /* ØªÙƒØ¨ÙŠØ± Ø§Ù„Ø´Ø¹Ø§Ø± */
      display: block;
      margin: auto;
    }
    .association-name {
      font-size: 14px;
      margin-top: 5px;
    }
    .teacher-info {
      font-size: 18px;
      font-weight: bold;
      margin: 5px 0;
    }
    /* Ø§Ù„Ø¬Ø¯ÙˆÙ„ */
    table {
      width: 100%;
      border-collapse: collapse;
      border-radius: 8px;
      overflow: hidden;
      margin-bottom: 15px;
      transition: background-color 0.3s ease, color 0.3s ease;
    }
    th, td {
      border: 1px solid;
      padding: 8px;
      text-align: center;
      transition: color 0.3s ease, border-color 0.3s ease;
    }
    th {
      background-color: #004080; /* Ø³ÙŠØªÙ… ØªØ­Ø¯ÙŠØ« Ù„ÙˆÙ† Ø§Ù„Ù†Øµ ÙÙŠÙ‡ Ø­Ø³Ø¨ Ø§Ù„Ø«ÙŠÙ… Ø¹Ø¨Ø± JavaScript */
      color: white !important;  /* ØªØ£ÙƒÙŠØ¯ Ù„ÙˆÙ† Ø§Ù„Ù†Øµ Ø§Ù„Ø£Ø¨ÙŠØ¶ Ù„Ø±Ø¤ÙˆØ³ Ø§Ù„Ø¬Ø¯ÙˆÙ„ */
    }
    /* Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ ÙˆØ§Ù„Ø¹Ù†Ø§ØµØ± */
    input, select, button {
      padding: 10px 5px; /* ØªÙƒØ¨ÙŠØ± Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø¨Ø§Ù„Ø·ÙˆÙ„ */
      margin: 5px 0;
      border: 1px solid white; /* Ø­Ø¯ÙˆØ¯ ÙˆØ§Ø¶Ø­Ø© */
      border-radius: 5px;
      width: 100%;
      max-width: 150px; /* ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø£Ù‚ØµÙ‰ */
      font-size: 14px;
      transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
    }
    /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
    .buttons, .input-group {
      margin: 10px 0;
      text-align: center;
    }
    button {
      background-color: #004080;
      color: white;
      border: none;
      cursor: pointer;
      margin: 5px;
      border-radius: 10px; /* ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø²ÙˆØ§ÙŠØ§ Ù„ØªÙƒÙˆÙ† Ù…Ø±Ø¨Ø¹Ø© */
      font-weight: bold; /* Ø¬Ø¹Ù„ Ø§Ù„Ù†Øµ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø¨Ø®Ø· Ø¹Ø±ÙŠØ¶ */
      transition: background-color 0.3s ease;
    }
    button:hover {
      background-color: #002b5e;
    }
    /* Ù‚Ø³Ù… Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø®Ø§Øµ Ø¨Ø§Ù„Ø·Ø§Ù„Ø¨Ø© */
    #student-section {
      margin-top: 20px;
    }
    /* Ù‚Ø³Ù… Ø¹Ø±Ø¶ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© */
    #saved-students {
      margin-top: 20px;
      display: none;
    }
    /* Ø§Ù„ÙÙˆØªØ± */
    .footer {
      text-align: center;
      padding: 10px;
      /* Ø³ÙŠØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ù„ÙˆÙ† Ø§Ù„Ø®Ù„ÙÙŠØ© Ø¹Ø¨Ø± JavaScript */
      font-size: 12px;
    }
    /* ØªØ­Ø³ÙŠÙ† Ø§Ù„ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ø­Ù…ÙˆÙ„Ø© */
    @media (max-width: 768px) {
      .container {
        width: 100%;
        padding: 10px;
      }
      button, input, select {
        max-width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© -->
    <div class="header">
      <img src=" Ø´Ø¹Ø§Ø± Ø§Ù„Ø¬Ù…Ø¹ÙŠÙ‡.jpeg " alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ø¬Ù…Ø¹ÙŠØ©" class="logo">
      <p class="teacher-info">Ø§Ù„Ù…Ø¹Ù„Ù…Ø©: Ø£Ø±ÙˆÙ‰ Ø§Ù„Ù…Ø¶Ø­ÙŠ</p>
      <p class="teacher-info">Ø§Ù„Ø­Ù„Ù‚Ø©: Ø­Ù„Ù‚Ø© Ø²ÙŠÙ†Ø¨ Ø¨Ù†Øª Ø¹Ø«Ù…Ø§Ù† - Ø±Ø¶ÙŠ Ø§Ù„Ù„Ù‡ Ø¹Ù†Ù‡Ø§ -</p>
    </div>

    <!-- Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨Ø© -->
    <div class="input-group">
      <label for="student-name">Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨Ø©:</label>
      <input type="text" id="student-name">
      <button onclick="confirmStudent()">ØªØ£ÙƒÙŠØ¯ Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨Ø©</button>
    </div>

    <!-- Ù‚Ø³Ù… Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø·Ø§Ù„Ø¨Ø© ÙˆØ¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØµÙ -->
    <div id="student-section" style="display:none;">
      <h2 id="student-title"></h2>
      <!-- Ø­Ù‚ÙˆÙ„ Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØµÙ -->
      <div class="input-group">
        <label for="week">Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹:</label>
        <select id="week">
          <option value="week1">Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø£ÙˆÙ„</option>
          <option value="week2">Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø«Ø§Ù†ÙŠ</option>
          <option value="week3">Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø«Ø§Ù„Ø«</option>
        </select>
      </div>
      <div class="input-group">
        <label for="day">Ø§Ù„ÙŠÙˆÙ…:</label>
        <select id="day">
          <option>Ø§Ù„Ø£Ø­Ø¯</option>
          <option>Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†</option>
          <option>Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡</option>
          <option>Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡</option>
          <option>Ø§Ù„Ø®Ù…ÙŠØ³</option>
        </select>
      </div>
      <div class="input-group">
        <label for="memorization">Ù…Ù‚Ø¯Ø§Ø± Ø§Ù„Ø­ÙØ¸:</label>
        <input type="text" id="memorization" placeholder="Ù…Ø«Ø§Ù„: 5 Ø¢ÙŠØ§Øª">
      </div>
      <div class="input-group">
        <label for="review">Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©:</label>
        <input type="text" id="review" placeholder="Ù…Ø«Ø§Ù„: Ø³ÙˆØ±Ø© Ø§Ù„ÙØ§ØªØ­Ø©">
      </div>
      <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… -->
      <div class="buttons">
        <button onclick="addToTable()">Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø§Ù„Ø¬Ø¯ÙˆÙ„</button>
        <button onclick="saveTableAsImage()">ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¬Ø¯ÙˆÙ„ ÙƒØµÙˆØ±Ø©</button>
        <button onclick="addNewStudent()">Ø¥Ø¶Ø§ÙØ© Ø·Ø§Ù„Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>
        <button onclick="showSavedSchedules()">Ø¹Ø±Ø¶ Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø·Ø§Ù„Ø¨Ø§Øª</button>
      </div>
      <!-- Ø§Ù„Ø¬Ø¯ÙˆÙ„ -->
      <table id="schedule-table">
        <thead>
          <tr>
            <th>Ø§Ù„ÙŠÙˆÙ…</th>
            <th>Ù…Ù‚Ø¯Ø§Ø± Ø§Ù„Ø­ÙØ¸</th>
            <th>Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©</th>
            <th>Ø§Ù„Ø§Ù†Ø¬Ø§Ø²</th>
            <th>ØªØ¹Ø¯ÙŠÙ„</th>
            <th>Ø­Ø°Ù</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <!-- Ù‚Ø§Ø¦Ù…Ø© Ø¹Ø±Ø¶ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© -->
    <div id="saved-students">
      <h2>Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø·Ø§Ù„Ø¨Ø§Øª:</h2>
      <div id="students-list"></div>
    </div>

    <!-- ØªØºÙŠÙŠØ± Ù„ÙˆÙ† Ø§Ù„Ø®Ù„ÙÙŠØ© -->
    <div class="input-group">
      <label for="color-theme">ØªØºÙŠÙŠØ± Ù„ÙˆÙ† Ø§Ù„Ø®Ù„ÙÙŠØ©:</label>
      <select id="color-theme" onchange="changeBackgroundColor()">
        <option value="blue">Ø§Ø¨ÙŠØ¶  </option>
        <option value="gray">Ø±ØµØ§ØµÙŠ</option>
        <option value="brown">Ø¨Ù†ÙŠ</option>
        <option value="ramadan">Ø±Ù…Ø¶Ø§Ù†ÙŠ</option>
      </select>
    </div>
  </div>

  <!-- Ø§Ù„ÙÙˆØªØ± -->
  <div class="footer">
    <p style="font-weight: bold; color: #004080;">Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡ ÙˆØªØ·ÙˆÙŠØ±Ù‡ Ø¨ÙˆØ§Ø³Ø·Ø© Ø§Ù„Ø·Ø§Ù„Ø¨Ø©: Ø¢Ù…Ù†Ø© Ù…Ø­Ù…Ø¯ Ø¹Ø³ÙŠØ±ÙŠ</p>
    <p style="font-weight: bold; color: #004080;">Ø§Ù„Ù„Ù‡Ù… Ø§Ø¬Ø¹Ù„ Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù…Ù„ Ø®Ø§Ù„ØµØ§ Ù„ÙˆØ¬Ù‡ÙƒØŒ ÙˆØ§Ù†ÙØ¹ Ø¨Ù‡</p>
    <p style="font-weight: bold; color: #004080;">2025</p>
  </div>

  <script>
    // ÙƒØ§Ø¦Ù† Ø§Ù„Ø«ÙŠÙ…Ø§Øª Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ù„ÙˆØ§Ù†
    const themeStyles = {
      blue: {
        bodyBg: "white",
        buttonBg: "#004080",
        inputBg: "white",
        inputText: "#003366",
        tableBg: "white",
        tableText: "#003366",
      },
      gray: {
        bodyBg: "#808080",       // Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø±ØµØ§ØµÙŠ
        buttonBg: "#696969",     // Ù„ÙˆÙ† Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø±ØµØ§ØµÙŠ Ø§Ù„ØºØ§Ù…Ù‚
        inputBg: "#808080",      // Ø®Ù„ÙÙŠØ© Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø±ØµØ§ØµÙŠ
        inputText: "white",      // Ù„ÙˆÙ† Ø§Ù„Ù†Øµ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø£Ø¨ÙŠØ¶
        tableBg: "#808080",      // Ø®Ù„ÙÙŠØ© Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø±ØµØ§ØµÙŠØ©
        tableText: "white"       // Ù„ÙˆÙ† Ø§Ù„Ù†Øµ Ø¯Ø§Ø®Ù„ Ø®Ù„Ø§ÙŠØ§ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø£Ø¨ÙŠØ¶
      },
      brown: {
        bodyBg: "#8b4513",
        buttonBg: "#a0522d",
        inputBg: "#8b4513",
        inputText: "white",
        tableBg: "#8b4513",
        tableText: "white"
      },
      ramadan: {
        bodyBg: "url('WhatsApp Image 2025-02-28 at 11.37.29 AM (1).jpeg')",
        buttonBg: "#004080",
        inputBg: "white",
        inputText: "#004080", // Ù„ÙˆÙ† Ø§Ù„Ù†Øµ Ø£Ø²Ø±Ù‚ ØºØ§Ù…Ù‚
        tableBg: "white",
        tableText: "#003366",
      }
    };

    // ØªØ¹Ø¯ÙŠÙ„ Ø±Ø¤ÙˆØ³ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø¨Ø­ÙŠØ« ÙŠÙƒÙˆÙ† Ù„ÙˆÙ† Ø§Ù„Ù†Øµ Ø£Ø¨ÙŠØ¶ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø«ÙŠÙ…Ø§Øª
    const headerTextColors = {
      blue: "white",
      gray: "white",
      brown: "white"
    };

    let currentStudent = null;
    let schedules = JSON.parse(localStorage.getItem('schedules')) || {};

    // Ø¯Ø§Ù„Ø© ØªØ£ÙƒÙŠØ¯ Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨Ø©
    function confirmStudent() {
      const nameInput = document.getElementById("student-name");
      const studentName = nameInput.value.trim();
      if (studentName !== "") {
        currentStudent = studentName;
        document.getElementById("student-section").style.display = "block";
        document.getElementById("student-title").innerText = "Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø·Ø§Ù„Ø¨Ø©: " + studentName;
        loadStudentSchedule(studentName);
      } else {
        alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨Ø©!");
      }
    }

    // Ø¯Ø§Ù„Ø© ØªØ­Ù…ÙŠÙ„ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø·Ø§Ù„Ø¨Ø© Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ
    function loadStudentSchedule(studentName) {
      const tableBody = document.getElementById("schedule-table").getElementsByTagName("tbody")[0];
      tableBody.innerHTML = "";
      if (schedules[studentName]) {
        let currentWeek = "";
        schedules[studentName].forEach((rowData, index) => {
          if (rowData.day.startsWith("week")) {
            const week = rowData.day.split("_")[0];
            if (week !== currentWeek) {
              const weekRow = tableBody.insertRow();
              const weekCell = weekRow.insertCell(0);
              weekCell.colSpan = 6;
              weekCell.innerText = week.replace("week1", "Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø£ÙˆÙ„").replace("week2", "Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø«Ø§Ù†ÙŠ").replace("week3", "Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø«Ø§Ù„Ø«");
              weekCell.style.fontWeight = "bold";
              currentWeek = week;
            }
          }
          const row = tableBody.insertRow();
          row.insertCell(0).innerText = rowData.day.split("_")[1];
          row.insertCell(1).innerText = rowData.memorization;
          row.insertCell(2).innerText = rowData.review;
          // Ø®Ø§Ù†Ø© Ø§Ù„Ø¥ÙƒÙ…Ø§Ù„
          const completeCell = row.insertCell(3);
          const completeCheck = document.createElement("input");
          completeCheck.type = "checkbox";
          completeCheck.checked = rowData.completed;
          completeCheck.onclick = function() {
            rowData.completed = this.checked;
            saveSchedule();
          };
          completeCell.appendChild(completeCheck);
          // Ø²Ø± Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
          const editCell = row.insertCell(4);
          const editButton = document.createElement("button");
          editButton.innerText = "ØªØ¹Ø¯ÙŠÙ„";
          editButton.onclick = function() {
            const newMemorization = prompt("ØªØ¹Ø¯ÙŠÙ„ Ù…Ù‚Ø¯Ø§Ø± Ø§Ù„Ø­ÙØ¸:", rowData.memorization);
            const newReview = prompt("ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©:", rowData.review);
            if (newMemorization !== null) rowData.memorization = newMemorization;
            if (newReview !== null) rowData.review = newReview;
            saveSchedule();
            loadStudentSchedule(currentStudent);
          };
          editCell.appendChild(editButton);
          // Ø²Ø± Ø­Ø°Ù Ø§Ù„Ø³Ø·Ø±
          const deleteCell = row.insertCell(5);
          const deleteButton = document.createElement("button");
          deleteButton.innerText = "Ø­Ø°Ù";
          deleteButton.onclick = function() {
            if (confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø³Ø·Ø±ØŸ")) {
              schedules[currentStudent].splice(index, 1);
              saveSchedule();
              loadStudentSchedule(currentStudent);
            }
          };
          deleteCell.appendChild(deleteButton);
        });
      }
      // ØªØ­Ø¯ÙŠØ« Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø­Ø³Ø¨ Ø§Ù„Ø«ÙŠÙ… Ø§Ù„Ø­Ø§Ù„ÙŠ
      updateTableStyles();
    }

    // Ø¯Ø§Ù„Ø© Ø¥Ø¶Ø§ÙØ© Ø¨ÙŠØ§Ù†Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© Ø¥Ù„Ù‰ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø·Ø§Ù„Ø¨Ø©
    function addToTable() {
      const week = document.getElementById("week").value;
      const day = document.getElementById("day").value;
      const memorization = document.getElementById("memorization").value.trim();
      const review = document.getElementById("review").value.trim();
      if (memorization === "" || review === "") {
        alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ù‚Ø¯Ø§Ø± Ø§Ù„Ø­ÙØ¸ ÙˆØ§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©.");
        return;
      }
      if (!schedules[currentStudent]) {
        schedules[currentStudent] = [];
      }
      schedules[currentStudent].push({
        day: `${week}_${day}`,
        memorization: memorization,
        review: review,
        completed: false
      });
      saveSchedule();
      loadStudentSchedule(currentStudent);
      alert("ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø³Ø·Ø± Ø¨Ù†Ø¬Ø§Ø­!");
    }

    // Ø¯Ø§Ù„Ø© Ù„Ø¥Ø¶Ø§ÙØ© Ø·Ø§Ù„Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø© (Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©)
    function addNewStudent() {
      document.getElementById("student-name").value = "";
      currentStudent = null;
      document.getElementById("student-section").style.display = "none";
    }

    // Ø¯Ø§Ù„Ø© "ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¬Ø¯ÙˆÙ„ ÙƒØµÙˆØ±Ø©" (  )
function saveTableAsImage() {
  const tableSection = document.getElementById("student-section");

  if (!currentStudent || !schedules[currentStudent] || schedules[currentStudent].length === 0) {
    alert("Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ù„ØªØ­Ù…ÙŠÙ„Ù‡Ø§!");
    return;
  }

  // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± ÙŠØ­ØªÙˆÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„ ÙˆØ§Ù„Ù‡ÙŠØ¯Ø± ÙˆØ§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©
  const captureElement = document.createElement("div");
  captureElement.style.padding = "20px";
  const currentTheme = document.getElementById("color-theme").value;
  if (currentTheme === "ramadan") {
    captureElement.style.backgroundImage = themeStyles[currentTheme].bodyBg;
    captureElement.style.backgroundColor = "";
    captureElement.style.backgroundSize = "100% 100%"; // ØªØ«Ø¨ÙŠØª Ø­Ø¬Ù… Ø§Ù„Ø®Ù„ÙÙŠØ© Ù„ØªÙ†Ø§Ø³Ø¨ Ø§Ù„Ø¬ÙˆØ§Ù„
  } else {
    captureElement.style.backgroundColor = themeStyles[currentTheme].bodyBg;
    captureElement.style.backgroundImage = "";
  }
  captureElement.style.color = themeStyles[currentTheme].tableText;
  captureElement.style.borderRadius = "10px";
  captureElement.style.textAlign = "center";
  captureElement.style.fontFamily = "Arial, sans-serif"; // Ø¥Ø¶Ø§ÙØ© Ø®Ø· Ø§Ù„Ù†Øµ
  captureElement.style.fontSize = "14px"; // Ø­Ø¬Ù… Ø§Ù„Ù†Øµ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ

  // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‡ÙŠØ¯Ø±
  const header = document.createElement("div");
  const logo = document.createElement("img");
  logo.src = "Ø´Ø¹Ø§Ø± Ø§Ù„Ø¬Ù…Ø¹ÙŠÙ‡.jpeg";
  logo.alt = "Ø´Ø¹Ø§Ø± Ø§Ù„Ø¬Ù…Ø¹ÙŠØ©";
  logo.style.width = "150px";
  logo.style.marginBottom = "10px";
  header.appendChild(logo);

  const teacherInfo = document.createElement("div");
  teacherInfo.innerHTML = `
    <p style="font-size: 18px; font-weight: bold;">Ø§Ù„Ù…Ø¹Ù„Ù…Ø©: Ø£Ø±ÙˆÙ‰ Ø§Ù„Ù…Ø¶Ø­ÙŠ</p>
    <p style="font-size: 18px; font-weight: bold;">Ø§Ù„Ø­Ù„Ù‚Ø©: Ø­Ù„Ù‚Ø© Ø²ÙŠÙ†Ø¨ Ø¨Ù†Øª Ø¹Ø«Ù…Ø§Ù† - Ø±Ø¶ÙŠ Ø§Ù„Ù„Ù‡ Ø¹Ù†Ù‡Ø§ -</p>
  `;
  header.appendChild(teacherInfo);
  captureElement.appendChild(header);

  // Ø¥Ø¶Ø§ÙØ© Ø¥ÙŠÙ…ÙˆØ¬ÙŠ Ø§Ù„Ù‡Ù„Ø§Ù„ ÙˆØ¹Ø¨Ø§Ø±Ø© Ø±Ù…Ø¶Ø§Ù† ÙƒØ±ÙŠÙ…
  const ramadanText = document.createElement("p");
  ramadanText.innerHTML = "ğŸŒ™  ØªÙ‚Ø¨Ù„ Ø§Ù„Ù„Ù‡ Ø·Ø§Ø¹ØªÙƒÙ… ğŸŒ™";
  ramadanText.style.fontSize = "20px";
  ramadanText.style.fontWeight = "bold";
  captureElement.appendChild(ramadanText);

  // Ù†Ø³Ø® Ø§Ù„Ø¬Ø¯ÙˆÙ„ ÙˆØ¥Ø¶Ø§ÙØªÙ‡ Ù„Ù„Ø¹Ù†ØµØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯
  const tableClone = document.getElementById("schedule-table").cloneNode(true);
  tableClone.style.width = "100%";
  tableClone.style.border = "2px solid white";
  tableClone.style.borderCollapse = "collapse";
  tableClone.style.marginTop = "10px";

  // Ø¥Ø®ÙØ§Ø¡ Ø£Ø¹Ù…Ø¯Ø© Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ ÙˆØ§Ù„Ø­Ø°Ù
  const rows = tableClone.getElementsByTagName('tr');
  for (let i = 0; i < rows.length; i++) {
    const cells = rows[i].getElementsByTagName('th');
    if (cells.length > 0) {
      cells[4].style.display = 'none'; // Ø¥Ø®ÙØ§Ø¡ Ø¹Ù…ÙˆØ¯ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
      cells[5].style.display = 'none'; // Ø¥Ø®ÙØ§Ø¡ Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø­Ø°Ù
    }
    const tdCells = rows[i].getElementsByTagName('td');
    if (tdCells.length > 0) {
      tdCells[4].style.display = 'none'; // Ø¥Ø®ÙØ§Ø¡ Ø¹Ù…ÙˆØ¯ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
      tdCells[5].style.display = 'none'; // Ø¥Ø®ÙØ§Ø¡ Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø­Ø°Ù
    }
  }

  captureElement.appendChild(tableClone);

  // Ø¥Ø±ÙØ§Ù‚ Ø§Ù„Ø¹Ù†ØµØ± Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© Ù…Ø¤Ù‚ØªÙ‹Ø§ Ù„Ù„ØªØµÙˆÙŠØ±
  document.body.appendChild(captureElement);

  // Ø§Ø³ØªØ®Ø¯Ø§Ù… html2canvas Ù„Ø§Ù„ØªÙ‚Ø§Ø· Ø§Ù„ØµÙˆØ±Ø©
  html2canvas(captureElement, { scale: 2 }).then(canvas => {
    const image = canvas.toDataURL("image/png");

    // Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø§Ø¨Ø· Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©
    const link = document.createElement("a");
    link.href = image;
    link.download = `Ø¬Ø¯ÙˆÙ„_${currentStudent}.png`;
    link.click();

    // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¹Ù†ØµØ± Ø¨Ø¹Ø¯ Ø§Ù„ØªØµÙˆÙŠØ±
    document.body.removeChild(captureElement);
  });
}


    // Ø¯Ø§Ù„Ø© Ø­Ø°Ù Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø·Ø§Ù„Ø¨Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„
    function deleteStudentSchedule(student) {
      if (confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø·Ø§Ù„Ø¨Ø© " + student + "ØŸ")) {
        delete schedules[student];
        saveSchedule();
        showSavedSchedules(); // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø­Ø°Ù
      }
    }
        // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø·Ø§Ù„Ø¨Ø© Ø§Ù„Ù…Ø­Ø°ÙˆÙØ© Ù‡ÙŠ Ø§Ù„Ø­Ø§Ù„ÙŠØ©ØŒ ÙŠØªÙ… Ù…Ø³Ø­ Ø§Ù„Ù‚Ø³Ù…
        if (currentStudent === student) {
          document.getElementById("student-section").style.display = "none";
          document.getElementById("student-name").value = "";
          currentStudent = null;
        }
      
    

    // Ø¯Ø§Ù„Ø© Ø¹Ø±Ø¶ Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø·Ø§Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø®Ø²Ù†Ø© Ù…Ø¹ Ø²Ø± Ø­Ø°Ù Ø§Ù„Ø¬Ø¯ÙˆÙ„
    function showSavedSchedules() {
      const studentsList = document.getElementById("students-list");
      studentsList.innerHTML = "";
      for (let student in schedules) {
        const studentDiv = document.createElement("div");
        studentDiv.style.margin = "5px 0";
        studentDiv.innerHTML = `<strong>${student}</strong> `;
        
        // Ø²Ø± Ø§Ù„Ø¹Ø±Ø¶
        const viewButton = document.createElement("button");
        viewButton.innerText = "Ø¹Ø±Ø¶";
        viewButton.style.maxWidth = "150px";
        viewButton.onclick = function() {
          document.getElementById("student-name").value = student;
          confirmStudent();
        };
        studentDiv.appendChild(viewButton);
        
        // Ø²Ø± Ø­Ø°Ù Ø§Ù„Ø¬Ø¯ÙˆÙ„
        const deleteButton = document.createElement("button");
        deleteButton.innerText = "Ø­Ø°Ù Ø§Ù„Ø¬Ø¯ÙˆÙ„";
        deleteButton.style.maxWidth = "150px";
        deleteButton.style.marginLeft = "10px";
        deleteButton.onclick = function() {
          deleteStudentSchedule(student);
        };
        studentDiv.appendChild(deleteButton);
        
        studentsList.appendChild(studentDiv);
      }
      document.getElementById("saved-students").style.display = "block";
    }

    // Ø¯Ø§Ù„Ø© Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ
    function saveSchedule() {
      localStorage.setItem('schedules', JSON.stringify(schedules));
    }

    // Ø¯Ø§Ù„Ø© ØªØ­Ø¯ÙŠØ« Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø¬Ø¯ÙˆÙ„ (Ø§Ù„Ø®Ù„ÙÙŠØ© ÙˆØ§Ù„Ù†Øµ ÙˆØ§Ù„Ø­Ø¯ÙˆØ¯) Ø­Ø³Ø¨ Ø§Ù„Ø«ÙŠÙ… Ø§Ù„Ù…Ø­Ø¯Ø¯
    function updateTableStyles() {
      const table = document.getElementById("schedule-table");
      const currentTheme = document.getElementById("color-theme").value;
      const theme = themeStyles[currentTheme];
      if (table) {
        table.style.backgroundColor = theme.tableBg;
        const cells = table.querySelectorAll("th, td");
        cells.forEach(cell => {
          if (cell.tagName === "TH") {
            cell.style.color = headerTextColors[currentTheme];
          } else {
            cell.style.color = theme.tableText;
          }
          cell.style.borderColor = theme.buttonBg;
        });
      }
    }

    // Ø¯Ø§Ù„Ø© ØªØºÙŠÙŠØ± Ù„ÙˆÙ† Ø§Ù„Ø®Ù„ÙÙŠØ© ÙˆØªØ­Ø¯ÙŠØ« Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø£Ø²Ø±Ø§Ø±ØŒ Ø§Ù„Ø­Ù‚ÙˆÙ„ØŒ Ø§Ù„Ø¬Ø¯ÙˆÙ„ ÙˆØ§Ù„ÙÙˆØªØ±
    function changeBackgroundColor() {
      const selected = document.getElementById("color-theme").value;
      const theme = themeStyles[selected];
      if (selected === "ramadan") {
        document.body.style.backgroundImage = theme.bodyBg;
        document.body.style.backgroundColor = "";
        document.body.style.backgroundSize = "100% 100%"; // ØªØ«Ø¨ÙŠØª Ø­Ø¬Ù… Ø§Ù„Ø®Ù„ÙÙŠØ© Ù„ØªÙ†Ø§Ø³Ø¨ Ø§Ù„Ø¬ÙˆØ§Ù„
      } else {
        document.body.style.backgroundColor = theme.bodyBg;
        document.body.style.backgroundImage = "";
      }
      // ØªØ­Ø¯ÙŠØ« Ù„ÙˆÙ† Ø§Ù„Ø£Ø²Ø±Ø§Ø±
      const buttons = document.querySelectorAll("button");
      buttons.forEach(btn => {
        btn.style.backgroundColor = theme.buttonBg;
      });
      // ØªØ­Ø¯ÙŠØ« Ù„ÙˆÙ† Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ ÙˆØ§Ù„Ø­Ø¯ÙˆØ¯
      const inputs = document.querySelectorAll("input, select");
      inputs.forEach(el => {
        el.style.backgroundColor = theme.inputBg;
        el.style.color = theme.inputText;
        el.style.borderColor = "white";
      });
      // ØªØ­Ø¯ÙŠØ« Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø¬Ø¯ÙˆÙ„
      updateTableStyles();
      // ØªØ­Ø¯ÙŠØ« Ù„ÙˆÙ† Ø®Ù„ÙÙŠØ© Ø§Ù„ÙÙˆØªØ± (Ù…Ø«Ù„Ø§Ù‹ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù„ÙˆÙ† Ø§Ù„Ø£Ø²Ø±Ø§Ø±)
      document.querySelector('.footer').style.backgroundColor = selected === "ramadan" ? "transparent" : theme.buttonBg;
    }

    // Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©ØŒ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø«ÙŠÙ… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
    changeBackgroundColor();

    document.getElementById('saveBtn').addEventListener('click', function() {
    let table = document.getElementById('studentTable');
    let rows = table.getElementsByTagName('tr');
    
    // Ø¥Ø®ÙØ§Ø¡ Ø£Ø¹Ù…Ø¯Ø© Ø§Ù„Ø­Ø°Ù ÙˆØ§Ù„ØªØ¹Ø¯ÙŠÙ„
    for (let i = 0; i < rows.length; i++) {
        let cells = rows[i].getElementsByTagName('td');
        if (cells.length > 0) {
            cells[3].style.display = 'none'; // Ø¥Ø®ÙØ§Ø¡ Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø­Ø°Ù
            cells[4].style.display = 'none'; // Ø¥Ø®ÙØ§Ø¡ Ø¹Ù…ÙˆØ¯ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
        }
    }
    
    // Ø­ÙØ¸ Ø§Ù„Ø¬Ø¯ÙˆÙ„ ÙƒØµÙˆØ±Ø©
    html2canvas(table).then(canvas => {
        let link = document.createElement('a');
        link.href = canvas.toDataURL();
        link.download = 'Ø¬Ø¯ÙˆÙ„_Ø§Ù„Ø­ÙØ¸.png';
        link.click();
        
        // Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø­ÙØ¸
        for (let i = 0; i < rows.length; i++) {
            let cells = rows[i].getElementsByTagName('td');
            if (cells.length > 0) {
                cells[3].style.display = ''; // Ø¥Ø¸Ù‡Ø§Ø± Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø­Ø°Ù
                cells[4].style.display = ''; // Ø¥Ø¸Ù‡Ø§Ø± Ø¹Ù…ÙˆØ¯ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
            }
        }
    });
});
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</body>
</html>